#!/usr/bin/env python3


import argparse

import re
import subprocess

parser = argparse.ArgumentParser(description="Scan Ports for IP addresses")
parser.add_argument('--target', metavar='', required=False, help="Host to be targetted for scanning.")
parser.add_argument('--port', metavar='', required=False, help="Range of ports to be scanned.")

args = parser.parse_args()
target = args.target

def get_open_ports(target):
    command = "nmap -Pn {}".format(target).split()
    scan = subprocess.run(command, capture_output=True, text=True)
    return scan.stdout
    
    
    
if __name__ == "__main__":
    open_ports = get_open_ports(target=target)
    print(open_ports)
    